# 方案一：用户中心深度分析架构

## 1. 方案概述

**架构名称**: User-Centric Deep Analysis (UCDA)

**核心理念**: 以用户画像为核心驱动力，通过深度理解用户的显性需求、隐性关联和战略盲区，构建个性化的价值评估框架，再将此框架应用于新闻筛选。

**一句话描述**: 先深度理解用户，再用用户视角审视每条新闻。

---

## 2. 差异化维度

| 维度 | 本方案选择 | 与其他方案对比 |
|------|-----------|--------------|
| **处理顺序** | 用户驱动 (User-Driven) | 先完整分析用户，后处理新闻 |
| **推理深度** | 深度分析 (Deep Analysis) | 分析因果链、市场影响、战略含义 |
| 筛选逻辑 | 加权评分制 | - |
| 价值权重 | 平衡型 (40%显性/30%隐性/30%盲区) | - |
| 架构形态 | 单轮Prompt | - |

---

## 3. 架构流程

```
┌─────────────────────────────────────────────────────────────────┐
│                    Phase 1: 用户画像深度解析                      │
├─────────────────────────────────────────────────────────────────┤
│  输入: user_profile.txt                                          │
│                                                                   │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐         │
│  │ 显性需求提取  │ → │ 隐性关联推理  │ → │ 盲区范围界定  │         │
│  │ (关键词/领域) │   │ (上下游依赖) │   │ (规则改变者) │         │
│  └──────────────┘   └──────────────┘   └──────────────┘         │
│                              ↓                                    │
│                    用户价值评估框架                                │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                    Phase 2: 新闻逐条评估                          │
├─────────────────────────────────────────────────────────────────┤
│  对每条新闻执行:                                                  │
│                                                                   │
│  ┌──────────────────────────────────────────────────────┐       │
│  │ 新闻 #n                                               │       │
│  │                                                       │       │
│  │  显性匹配度 (0-100) × 0.40 = ?                        │       │
│  │  隐性关联度 (0-100) × 0.30 = ?                        │       │
│  │  盲区价值度 (0-100) × 0.30 = ?                        │       │
│  │  ─────────────────────────────                        │       │
│  │  综合得分 = Σ                                         │       │
│  └──────────────────────────────────────────────────────┘       │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                    Phase 3: 排序与输出                            │
├─────────────────────────────────────────────────────────────────┤
│  1. 按综合得分降序排列                                            │
│  2. 取 Top 20                                                     │
│  3. 为每条入选新闻生成推荐理由                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 核心Prompt设计

```markdown
# 角色定义
你是一位专业的信息筛选分析师，擅长理解用户需求并从海量信息中筛选出最有价值的内容。

# 任务
从给定的新闻列表中，为特定用户筛选出最多20条最有价值的新闻。

# 第一步：深度理解用户画像

请仔细阅读以下用户画像，并完成：

1. **显性需求提取**：
   - 用户明确关注的领域、协议、代币
   - 用户偏好的内容形式（深度分析/快讯/结构化数据）
   - 用户明确排斥的内容类型

2. **隐性需求推理**：
   - 用户关注领域的上游依赖（如套利交易者需要关注流动性提供者动态）
   - 用户关注领域的下游影响（如ETH研究者需要关注L2生态变化）
   - 用户交易/研究策略可能需要的辅助信息

3. **盲区范围界定**：
   - 可能改变用户所在赛道游戏规则的信息类别
   - 用户未明确关注但可能带来重大风险/机会的领域
   - 跨领域的技术/政策变化可能对用户的影响

<用户画像>
{user_profile}
</用户画像>

# 第二步：构建价值评估框架

基于以上分析，为此用户构建一个价值评估框架：

**框架输出格式**：
- 显性匹配关键词/领域列表
- 隐性关联领域列表及关联逻辑
- 盲区监控领域列表及监控原因

# 第三步：评估新闻

对以下新闻列表中的每一条新闻，使用你构建的评估框架进行打分：

- **显性匹配度** (0-100分)：与用户显性需求的直接匹配程度
- **隐性关联度** (0-100分)：与用户隐性需求的关联程度
- **盲区价值度** (0-100分)：对用户盲区的覆盖价值

**综合得分** = 显性匹配度 × 0.40 + 隐性关联度 × 0.30 + 盲区价值度 × 0.30

<新闻列表>
{news_list}
</新闻列表>

# 第四步：输出结果

1. 按综合得分降序排列所有新闻
2. 选出得分最高的前20条（如不足20条高价值新闻，可少于20条）
3. 对于综合得分低于30分的新闻，即使排名靠前也不应入选

**输出JSON格式**：
```json
{
  "user_understanding": {
    "explicit_needs": ["需求1", "需求2", ...],
    "implicit_needs": ["隐性需求1及原因", ...],
    "blindspot_areas": ["盲区1及原因", ...]
  },
  "selected_news": [
    {
      "n": 新闻编号,
      "score": {
        "explicit": 分数,
        "implicit": 分数,
        "blindspot": 分数,
        "total": 加权总分
      },
      "reason": "选择此新闻的理由，说明其为用户带来的价值"
    },
    ...
  ],
  "filtering_stats": {
    "total_evaluated": 评估总数,
    "selected_count": 入选数量,
    "avg_score": 入选新闻平均分
  }
}
```
```

---

## 5. 方案特点

### 优势
1. **深度个性化**：通过详尽的用户画像分析，实现真正的千人千面
2. **透明可解释**：每条新闻的入选都有清晰的评分和理由
3. **盲区覆盖**：不仅匹配用户已知需求，还主动发现用户未意识到的价值
4. **质量优先**：设置得分门槛，避免凑数式推荐

### 局限
1. **计算成本高**：需要对每条新闻进行多维度深度评估
2. **依赖画像质量**：用户画像越详细，筛选效果越好
3. **可能过度解读**：深度推理可能导致过度关联

### 适用场景
- 用户画像详尽且稳定的场景
- 对推荐质量要求高于响应速度的场景
- 需要推荐理由解释的场景

---

## 6. 评估指标

| 指标 | 预期表现 | 测量方法 |
|------|---------|---------|
| 显性价值覆盖率 | >90% | 用户明确需求的新闻被选中比例 |
| 隐性价值发现率 | >60% | 有用但非直接匹配的新闻比例 |
| 盲区信息发现 | ≥2条/天 | 战略盲区类新闻数量 |
| 噪音率 | <10% | 用户判定为无价值的新闻比例 |
| 推理质量 | 高 | 推荐理由的逻辑性与说服力 |

---

## 7. 示例运行逻辑

**输入用户**: User 001 (预测市场套利交易者)

**Phase 1 输出**:
```json
{
  "explicit_needs": [
    "Polymarket/Kalshi等预测市场协议",
    "跨平台价差信息",
    "链上流动性异常",
    "套利策略回测结果"
  ],
  "implicit_needs": [
    "做市商动态 → 影响流动性深度",
    "稳定币脱锚风险 → 影响资金效率",
    "Gas费波动 → 影响套利成本",
    "CEX/DEX价格差异 → 跨市场机会"
  ],
  "blindspot_areas": [
    "监管政策变化 → 可能影响预测市场合规性",
    "预言机故障历史 → 影响结算准确性",
    "MEV/三明治攻击趋势 → 影响链上执行"
  ]
}
```

**Phase 2 示例评估**:
| 新闻 | 显性 | 隐性 | 盲区 | 总分 |
|------|-----|------|------|------|
| Polymarket新增TRUMP市场 | 95 | 20 | 10 | 48.0 |
| ETH Gas费创月度新低 | 30 | 85 | 10 | 40.5 |
| SEC调查预测市场合规性 | 20 | 30 | 95 | 45.5 |

---

## 8. 变体与调优建议

1. **权重调整**：可根据用户反馈调整三层价值的权重比例
2. **动态阈值**：当高质量新闻较少时，可适当降低入选门槛
3. **批量优化**：可先快速过滤明显无关新闻，再对候选集进行深度分析
